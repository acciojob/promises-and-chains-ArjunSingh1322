<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <form id="myForm">
      <input type="number" id="age" placeholder="Enter your age" >
      <input type="text" id="name" placeholder="Enter your name" >
      <input type="submit" id="btn" value="Submit">
    </form>

    <script type="text/javascript">
      let age = document.querySelector("#age");
      let name = document.querySelector("#name");
      let form = document.querySelector("#myForm");

      form.addEventListener("submit", (event) => {
        event.preventDefault(); 
		  if(age.value == "" || name.value ==""){
			  alert ("Please enter valid details")
			  return
		  }

        new Promise((resolve, reject) => {
          if (age.value >= 18) {
            setTimeout(() => {
              resolve(`Welcome, ${name.value}. You can vote`);
            }, 4000);
          } else {
            setTimeout(() => {
              reject(`Oh sorry, ${name.value}. You aren't old enough`);
            }, 4000);
          }
        })
          .then((message) => {
            alert(message);
          })
          .catch((error) => {
            alert(error);
          });
      });
    </script>
  </body>
</html>
